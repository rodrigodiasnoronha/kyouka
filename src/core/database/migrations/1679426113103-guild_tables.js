module.exports = class guildTables1679426113103 {
    name = 'guildTables1679426113103'

    async up(queryRunner) {
        await queryRunner.query(`CREATE TABLE "guild_schema"."guild_welcome_table" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "welcome_status" "guild_schema"."guild_welcome_table_welcome_status_enum" NOT NULL DEFAULT 'off', "welcome_channel_id" character varying, "welcome_title" character varying, "welcome_subtitle" character varying, "welcome_footer" character varying, "welcome_image" character varying, "welcome_thumbnail" character varying, "created_at" TIMESTAMP NOT NULL DEFAULT now(), "updated_at" TIMESTAMP NOT NULL DEFAULT now(), "deleted_at" TIMESTAMP, CONSTRAINT "PK_843f1597fe559f53e771d9a2fe3" PRIMARY KEY ("id")); COMMENT ON COLUMN "guild_schema"."guild_welcome_table"."welcome_status" IS 'Welcome message status (If we have to show this message)'; COMMENT ON COLUMN "guild_schema"."guild_welcome_table"."welcome_channel_id" IS 'Welcome channel id'; COMMENT ON COLUMN "guild_schema"."guild_welcome_table"."welcome_title" IS 'Welcome''s title message'; COMMENT ON COLUMN "guild_schema"."guild_welcome_table"."welcome_subtitle" IS 'Welcome''s subtitle message'; COMMENT ON COLUMN "guild_schema"."guild_welcome_table"."welcome_footer" IS 'Welcome''s footer message'; COMMENT ON COLUMN "guild_schema"."guild_welcome_table"."welcome_image" IS 'Welcome image''s path'; COMMENT ON COLUMN "guild_schema"."guild_welcome_table"."welcome_thumbnail" IS 'Welcome thumbnail''s path'`);
        await queryRunner.query(`CREATE TABLE "guild_schema"."guild_table" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "guild_id" character varying NOT NULL, "guild_name" character varying(100) NOT NULL, "guild_prefix" character varying(1) NOT NULL DEFAULT '$', "guild_member_count" bigint NOT NULL DEFAULT '0', "guild_language" character varying NOT NULL DEFAULT 'ptBR', "created_at" TIMESTAMP NOT NULL DEFAULT now(), "updated_at" TIMESTAMP NOT NULL DEFAULT now(), "deleted_at" TIMESTAMP, "guild_welcome_id" uuid, CONSTRAINT "UQ_de8fd3905ea0baa4286f546c834" UNIQUE ("guild_id"), CONSTRAINT "REL_9680ae53faa0318d855ee9e78d" UNIQUE ("guild_welcome_id"), CONSTRAINT "PK_2eb7d203aea89c86a251d905b43" PRIMARY KEY ("id")); COMMENT ON COLUMN "guild_schema"."guild_table"."guild_id" IS 'Guild''s ID'; COMMENT ON COLUMN "guild_schema"."guild_table"."guild_name" IS 'Guild''s name'; COMMENT ON COLUMN "guild_schema"."guild_table"."guild_prefix" IS 'Guild''s prefix'; COMMENT ON COLUMN "guild_schema"."guild_table"."guild_member_count" IS 'Guild''s member count'; COMMENT ON COLUMN "guild_schema"."guild_table"."guild_language" IS 'Guild''s language'`);
        await queryRunner.query(`ALTER TABLE "guild_schema"."guild_table" ADD CONSTRAINT "FK_9680ae53faa0318d855ee9e78dd" FOREIGN KEY ("guild_welcome_id") REFERENCES "guild_schema"."guild_welcome_table"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    }

    async down(queryRunner) {
        await queryRunner.query(`ALTER TABLE "guild_schema"."guild_table" DROP CONSTRAINT "FK_9680ae53faa0318d855ee9e78dd"`);
        await queryRunner.query(`DROP TABLE "guild_schema"."guild_table"`);
        await queryRunner.query(`DROP TABLE "guild_schema"."guild_welcome_table"`);
    }
}
